<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Kibotashi — Lengua Pura</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;700&display=swap" rel="stylesheet" />
    <!-- Enlace al archivo CSS externo -->
    <link rel="stylesheet" href="css/style.css">
    <!-- Incluye la librería Tone.js para la generación de sonido -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.min.js"></script>
    <!-- Font Awesome para iconos -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
<!-- Cinematic Hero Section -->
<section id="hero">
    <h1>KIBOTASHI</h1>
    <p>El lenguaje donde cada carácter encierra intención</p>
    <!-- Botón "Entrar al Mundo" que ahora llama a una función JavaScript para reproducir sonido -->
    <a href="#intro" id="enter-world-button">
        Entrar al Mundo
    </a>
    <!-- Elemento de audio para el sonido del botón "Entrar al Mundo" -->
    <audio id="game-start-audio" src="audios/Game Star.mp3" preload="auto"></audio>
    <!-- Elemento de audio para la intro heroica de música de fondo, inicialmente silenciado -->
    <audio id="heroic-intro-audio" src="audios/heroic-intro.mp3" preload="auto" muted loop></audio>
    <!-- Elemento de audio para la voz heroica de la intro, inicialmente silenciado -->
    <audio id="voice-intro-audio" src="audios/voice-intro.wav" preload="auto" muted></audio>
</section>

<!-- Main content of the page -->
<div id="main-content">
    <header>
        <h1>KIBOTASHI</h1>
        <p>Una lengua pura nacida del alma, la estructura y el símbolo</p>
    </header>

    <!-- Nueva barra de navegación con hamburguesa -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">Kibotashi</div>
            <button class="hamburger" id="hamburger" aria-label="Toggle navigation">&#9776;</button>
            <ul class="nav-menu" id="nav-menu">
                <li><a href="#intro">Inicio</a></li>
                <li><a href="#pronombres">Pronombres</a></li>
                <li><a href="#verbos">Verbos</a></li>
                <li><a href="#conjugaciones">Conjugaciones</a></li>
                <li><a href="#preguntas">Preguntas</a></li>
                <li><a href="#caracteres">Caracteres</a></li>
                <li><a href="#guia-escritura">Escritura</a></li>
                <li><a href="#estructura">Estructura</a></li>
                <li><a href="#constructor">Constructor</a></li>
                <li><a href="#audio">Audio</a></li>
                <li><a href="#glosario">Glosario</a></li>
                <li><a href="#contacto">Contacto</a></li>
                <li><button id="theme-toggle" aria-label="Toggle theme">Modo Oscuro</button></li>
            </ul>
        </div>
    </nav>

    <section id="intro">
        <h2>🌟 ¡Bienvenido/a al sitio oficial de la lengua Kibotashi! 🌟</h2>
        <p>
            ¡Me da gusto ver que te animas a emprender este viaje! Kibotashi no es solo un idioma, es una puerta a un mundo donde cada carácter encierra intención y cada palabra resuena con el alma. Inspirado en la belleza del Hangul, la profundidad de las lenguas élficas y la intuición simbólica, Kibotashi combina armonía fonética, emocional y visual. Su sistema está basado en bloques CVC (consonante-vocal-consonante), raíces temáticas, sufijos afectivos y una fonología limpia y amable con el habla humana. Prepárate para descubrir una lengua pura nacida del corazón, la estructura y el símbolo.
        </p>
    </section>

    <section id="pronombres">
        <h2>🧍 Pronombres & Posesivos</h2>
        <table>
            <tr><th>Kibotashi</th><th>Español</th><th>Uso</th></tr>
            <tr><td>Ena</td><td>Yo</td><td>Formal / neutro</td></tr>
            <tr><td>Lun</td><td>Yo</td><td>Poético / íntimo</td></tr>
            <tr><td>Bua</td><td>Tú</td><td>Singular / cercano</td></tr>
            <tr><td>Sual</td><td>Él / Ella</td><td>3ª persona</td></tr>
            <tr><td>Nual</td><td>Nosotros</td><td>Plural inclusivo</td></tr>
        </table>
        <h3 style="margin-top: 2rem;">🔗 Sufijos posesivos</h3>
        <table>
            <tr><th>Sufijo</th><th>Significado</th><th>Ejemplo</th></tr>
            <tr><td>-en</td><td>Mi</td><td>Katen = mi amor</td></tr>
            <tr><td>-ua</td><td>Tu</td><td>Katua = tu amor</td></tr>
            <tr><td>-sa</td><td>Su</td><td>Katsa = su amor</td></tr>
            <tr><td>-nal</td><td>Nuestro</td><td>Katnal = nuestro amor</td></tr>
        </table>
    </section>

    <section id="verbos">
        <h2>📘 Verbos esenciales</h2>
        <p>Los verbos base de Kibotashi son simples y regulares. Representan acción, estado y emoción con raíz simbólica clara.</p>
        <table>
            <tr><th>Kibotashi</th><th>Español</th><th>Fonética (IPA)</th></tr>
            <tr><td>Ta</td><td>Ser</td><td>/ta/</td></tr>
            <tr><td>Ni</td><td>Estar</td><td>/ni/</td></tr>
            <tr><td>Kel</td><td>Tener</td><td>/kel/</td></tr>
            <tr><td>Mir</td><td>Hacer</td><td>/miʁ/</td></tr>
            <tr><td>Bin</td><td>Sentir</td><td>/bin/</td></tr>
            <tr><td>Jan</td><td>Ir</td><td>/ʒan/</td></tr>
            <tr><td>Vael</td><td>Decir</td><td>/ˈva.el/</td></tr>
            <tr><td>Zar</td><td>Saber</td><td>/zaʁ/</td></tr>
            <tr><td>Katun</td><td>Querer</td><td>/ˈka.tun/</td></tr>
            <tr><td>Solv</td><td>Poder</td><td>/solv/</td></tr>
        </table>
    </section>

    <section id="conjugaciones">
        <h2>🔧 Conjugaciones regulares</h2>
        <p>Kibotashi usa sufijos de tiempo sencillos. Todos los verbos siguen esta lógica:</p>
        <ul>
            <li><strong>Presente:</strong> raíz + terminación personal (Tao, Tua, Tai...)</li>
            <li><strong>Pasado:</strong> raíz + "or" (Taor = fui)</li>
            <li><strong>Futuro:</strong> raíz + "el" (Tael = seré)</li>
            <li><strong>Negación:</strong> Ne + verbo conjugado (Netao = no soy)</li>
        </ul>
        <h3>Conjugación del verbo Ta (ser)</h3>
        <table>
            <tr><th>Pronombre</th><th>Presente</th><th>Pasado</th><th>Futuro</th><th>Negativo</th></tr>
            <tr><td>Ena</td><td>Tao</td><td>Taor</td><td>Tael</td><td>Netao</td></tr>
            <tr><td>Bua</td><td>Tua</td><td>Tauor</td><td>Tuel</td><td>Netua</td></tr>
            <tr><td>Sual</td><td>Tai</td><td>Tair</td><td>Taiel</td><td>Netai</td></tr>
            <tr><td>Nual</td><td>Tanal</td><td>Tanor</td><td>Tanel</td><td>Netanal</td></tr>
        </table>
    </section>

    <section id="preguntas">
        <h2>❓ Preguntas y Partículas</h2>
        <p>Las preguntas en Kibotashi se forman invirtiendo el orden o agregando la partícula final <strong>na</strong>.</p>
        <table>
            <tr><th>Interrogativo</th><th>Significado</th><th>Ejemplo</th></tr>
            <tr><td>Na</td><td>¿Qué?</td><td>Na Tarenua? (¿Qué es familia?)</td></tr>
            <tr><td>Né</td><td>¿Cómo?</td><td>Bua Binua Né? (¿Cómo te sientes?)</td></tr>
            <tr><td>Non</td><td>¿Dónde?</td><td>Janua Non? (¿Dónde vas?)</td>
            <tr><td>Nen</td><td>¿Cuándo?</td><td>Binor Nen? (¿Cuándo sentiste?)</td></tr>
        </table>
    </section>

    <section id="caracteres">
        <h2>🔤 Caracteres del Alfabeto Kibotashi</h2>
        <p>El alfabeto de Kibotashi está compuesto por sonidos fonéticos básicos, cada uno con su carácter visual. Estos caracteres se combinan para formar bloques silábicos del tipo <strong>CVC</strong> (Consonante + Vocal + Consonante).</p>
        <table>
            <tr><th>Fonema</th><th>Letra</th><th><span class="character-header">Carácter</span></th><th>Pronunciación</th></tr>
            <tr><td>/k/</td><td>K</td><td class="character-cell" data-phoneme="k" data-char="⧫">⧫</td><td>como “k” en kilómetro</td></tr>
            <tr><td>/t/</td><td>T</td><td class="character-cell" data-phoneme="t" data-char="⦾">⦾</td><td>como “t” en tierra</td></tr>
            <tr><td>/b/</td><td>B</td><td class="character-cell" data-phoneme="b" data-char="⬸">⬸</td><td>como “b” suave</td></tr>
            <tr><td>/n/</td><td>N</td><td class="character-cell" data-phoneme="n" data-char="⏁">⏁</td><td>como “n” en nube</td></tr>
            <tr><td>/m/</td><td>M</td><td class="character-cell" data-phoneme="m" data-char="⨊">⨊</td><td>como “m” en mano</td></tr>
            <tr><td>/s/</td><td>S</td><td class="character-cell" data-phoneme="s" data-char="␊">␊</td><td>como “s” suave</td></tr>
            <tr><td>/l/</td><td>L</td><td class="character-cell" data-phoneme="l" data-char="⨅">⨅</td><td>como “l” clara</td></tr>
            <tr><td>/a/</td><td>A</td><td class="character-cell" data-phoneme="a" data-char="◉">◉</td><td>como “a” abierta</td></tr>
            <tr><td>/e/</td><td>E</td><td class="character-cell" data-phoneme="e" data-char="◍">◍</td><td>como “e” media</td></tr>
            <tr><td>/i/</td><td>I</td><td class="character-cell" data-phoneme="i" data-char="◯">◯</td><td>como “i” tensa</td></tr>
            <tr><td>/o/</td><td>O</td><td class="character-cell" data-phoneme="o" data-char="◎">◎</td><td>como “o” profunda</td></tr>
            <tr><td>/u/</td><td>U</td><td class="character-cell" data-phoneme="u" data-char="◌">◌</td><td>como “u” redonda</td></tr>
        </table>

        <h3 style="margin-top: 2rem;">🛠️ Constructor de Caracteres Interactivo</h3>
        <p>Arrastra y suelta caracteres (Consonante, Vocal, Consonante) en las zonas para formar una palabra. Haz clic en "Formar Palabra" para ver el resultado y escucharlo.</p>
        <div class="character-builder-area">
            <div class="drop-zone" id="drop-zone-c1" data-type="consonant">C1</div>
            <div class="drop-zone" id="drop-zone-v" data-type="vowel">V</div>
            <div class="drop-zone" id="drop-zone-c2" data-type="consonant">C2</div>
        </div>
        <button id="form-word-btn" class="play-button" style="margin-top: 1rem;">Formar Palabra</button>

        <div id="formed-word-output" class="constructor-output" style="display:none; margin-top: 2rem;">
            <h3>Palabra Formada:</h3>
            <p id="formed-kibotashi-word"></p>
            <p class="ipa">IPA: <span id="formed-ipa-word"></span></p>
            <p class="meaning">Significado: <span id="formed-meaning-word"></span></p>
            <p id="word-exists-status" class="word-status"></p> <!-- NUEVO: Mensaje de estado de existencia -->
            <button id="speak-formed-word-btn" class="play-output-button">🗣️ Escuchar Palabra</button>
        </div>
    </section>

    <section id="guia-escritura">
        <h2>✍️ Guía para escribir palabras</h2>
        <p>Las palabras en Kibotashi se escriben combinando sonidos según la estructura CVC o CV. Cada sílaba puede formar un carácter visual.</p>
        <ul style="margin-top: 1rem;">
            <li><strong>Ejemplo 1:</strong> <code>Kat</code> (amor) = K + A + T → ⧫◉⦾</li>
            <li><strong>Ejemplo 2:</strong> <code>Biné</code> (alegría) = B + I + N + Énfasis tonal → ⬸◯⏁</li>
            <li><strong>Ejemplo 3:</b> <code>Tin</code> (ternura) = T + I + N → ⦾◯⏁</li>
        </ul>
        <p>Si usas herramientas interactivas, puedes representar cada carácter con un SVG o imagen ilustrativa basada en estos bloques.</p>
    </section>

    <section id="estructura">
        <h2>🏗️ Estructura de Oraciones</h2>
        <p>Las oraciones en Kibotashi siguen una estructura sencilla para asegurar claridad y belleza.</p>
        <h3>Orden de Palabras Básico (Sujeto-Verbo-Objeto)</h3>
        <p>El orden más común en Kibotashi es <strong>Sujeto + Verbo + Objeto</strong>. Los adjetivos generalmente preceden a los sustantivos y los adverbios siguen a los verbos.</p>
        <ul style="margin-top: 1rem;">
            <li><strong>Ena Katun Katen.</strong> (Yo querer mi amor.) - <i>I want my love.</i></li>
            <li><strong>Bua Mir Tovar.</strong> (Tú hacer voz.) - <i>You make a sound/voice.</i></li>
            <li><strong>Sual Zalin Naviirsa.</strong> (Él/Ella cuidar su pareja.) - <i>He/She cares for their partner.</i></li>
        </ul>
        <h3>Ejemplos de frases</h3>
        <table>
            <tr><th>Kibotashi</th><th>Traducción Literal</th><th>Significado</th></tr>
            <tr><td data-pron="/e.na ˈta.o ˈku.ʁen/">Ena Tao Kuren.</td><td>Yo ser amigo.</td><td>Soy un amigo.</td></tr>
            <tr><td data-pron="/ˈbua ˈjan.el ˈnon/">Bua Janel Non?</td><td>Tú irás dónde?</td><td>¿Adónde irás?</td></tr>
            <tr><td data-pron="/ˈmi.var ˈma.ʁan.an/">Mivar Maranan.</td><td>Acompañar compañero familiar.</td><td>Acompañar al compañero de confianza.</td></tr>
        </table>
    </section>

    <section id="constructor" class="constructor-container">
        <h2>CONSTRUCTOR DE FRASES</h2>
        <div class="collapsible-header" id="constructor-toggle-header">
            <h3>Controles del Constructor</h3>
            <span class="fas fa-chevron-down" id="toggle-icon"></span>
        </div>
        <div class="collapsible-content" id="constructor-controls">
            <p>La mejor forma de aprender es haciendo. Utiliza esta herramienta para combinar pronombres, verbos y tiempos verbales. Observa cómo se forman las palabras y las frases en tiempo real y empieza a pensar en Kibotashi.</p>
            <p>(Las pronunciaciones son simuladas.)</p>
            <div class="constructor-inputs">
                <select id="pronoun-select"></select>
                <select id="verb-select"></select>
                <select id="tense-select"></select>
                <select id="object-select"></select>
                <label for="negation-checkbox" style="display:flex; align-items:center; gap:0.5rem;">
                    <input type="checkbox" id="negation-checkbox"> Negación
                </label>
                <select id="mood-select">
                    <option value="indicativo">Modo Indicativo</option>
                    <option value="condicional">Modo Condicional</option>
                </select>
                <select id="affix-select">
                    <option value="">Sin sufijo</option>
                    <option value="ul">Cariño suave (-ul)</option>
                    <option value="ei">Íntimo (-ei)</option>
                    <option value="an">Confianza (-an)</option>
                </select>
                <select id="emotion-select"> <!-- AÑADIDO: Select para emociones -->
                    <option value="neutro">Tono Neutro</option>
                    <option value="poetico">Poético</option>
                    <option value="afectivo">Afectivo</option>
                    <option value="melancolico">Melancólico</option>
                </select>
                <label style="display:flex; align-items:center; gap:0.5rem;">
                    <input type="checkbox" id="randomize-checkbox" />
                    Frase aleatoria
                </label>
                <button id="build-phrase-btn">Construir</button> <!-- CAMBIADO: ID para eventListener -->
            </div>
            <p>Selecciona los componentes y haz clic en "Construir".</p>
        </div>
        <div id="constructor-output" class="constructor-output" style="display:none;">
            <h3>Frase Construida:</h3>
            <p id="kibotashi-phrase"></p>
            <p class="ipa">IPA: <span id="ipa-phrase"></span></p>
            <p class="meaning">Significado: <span id="meaning-phrase"></span></p>
            <button id="speak-constructed-phrase-btn" class="play-output-button">🗣️ Escuchar Frase</button> <!-- CAMBIADO: ID para eventListener -->
        </div>
    </section>

    <section id="audio">
        <h2>🔊 Pronunciaciones y Fonética</h2>
        <p>Cada palabra tiene su transcripción en formato IPA y puede ir acompañada por su archivo de audio alojado en la carpeta <code>/audios/</code>. Además, se ha añadido una función de texto a voz para una pronunciación sintética, ideal para navegadores modernos.</p>
        <table>
            <tr><th>Palabra</th><th>Pronunciación IPA</th><th>Audio / Voz Sintética</th></tr>
            <tr><td data-pron="/ˈka.tun/">Katun</td><td>/ˈka.tun/</td><td><audio id="katun-audio" src="audios/katun.mp3"></audio><button class="play-button" data-audio="audios/katun.mp3">▶️ (Archivo)</button> <button class="play-button" data-text="Katun">🗣️ (Voz)</button></td></tr>
            <tr><td data-pron="/ˈbi.ne/">Biné</td><td>/ˈbi.ne/</td><td><audio id="bine-audio" src="audios/bine.mp3"></audio><button class="play-button" data-audio="audios/bine.mp3">▶️ (Archivo)</button> <button class="play-button" data-text="Biné">🗣️ (Voz)</button></td></tr>
            <tr><td data-pron="/ˈza.lin/">Zalin</td><td>/ˈza.lin/</td><td><audio id="zalin-audio" src="audios/zalin.mp3"></audio><button class="play-button" data-audio="audios/zalin.mp3">▶️ (Archivo)</button> <button class="play-button" data-text="Zalin">🗣️ (Voz)</button></td></tr>
            <tr><td data-pron="/ta.o/">Tao</td><td>/ta.o/</td><td><audio id="tao-audio" src="audios/tao.mp3"></audio><button class="play-button" data-audio="audios/tao.mp3">▶️ (Archivo)</button> <button class="play-button" data-text="Tao">🗣️ (Voz)</button></td></tr>
            <!-- Puedes continuar añadiendo más palabras -->
        </table>
        <p style="margin-top: 1.5rem;">
            📝 <strong>Nota:</strong> La función de "Voz Sintética" utiliza la API de voz del navegador y buscará una voz femenina en español latinoamericano. La disponibilidad y calidad de la voz pueden variar según tu navegador y sistema operativo.
        </p>
    </section>

    <section id="glosario"> <!-- Glosario Kibotashi -->
        <h2>📘 Glosario Kibotashi</h2>

        <input type="text" id="filtro-palabra" placeholder="🔍 Buscar palabra...">
        <button id="buscar-palabra-btn" class="play-button" style="margin-left: 10px;">Buscar</button>
        <select id="filtro-categoria">
            <option value="">Todas las categorías</option>
            <option>Acción</option>
            <option>Acción mental</option>
            <option>Adjetivos</option>
            <option>Agua</option>
            <option>Alimentos</option>
            <option>Bebidas</option>
            <option>Combinado</option>
            <option>Comunicación</option>
            <option>Comida</option>
            <option>Cortesía</option>
            <option>Cuerpo</option>
            <option>Cuerpo y acción</option>
            <option>Emociones</option>
            <option>Entorno</option>
            <option>Espacio</option>
            <option>Gente</option>
            <option>Higiene</option>
            <option>Hogar</option>
            <option>Lugar</option>
            <option>Mente</option>
            <option>Mente y cognición</option>
            <option>Movimiento</option>
            <option>Naturaleza</option>
            <option>Números</option>
            <option>Objeto</option>
            <option>Respuestas</option>
            <option>Saludos</option>
            <option>Salud</option>
            <option>Tecnología</option>
            <option>Tiempo</option>
            <option>Ubicación</option>
            <option>Utensilio</option>
            <option>Valor</option>
            <option>Verbos relacionales</option>
            <option>Voluntad</option>
        </select>

        <div class="table-wrapper">
            <table id="tabla-glosario">
                <thead>
                    <tr>
                        <th>Español</th>
                        <th>Kibotashi</th>
                        <th>Categoría</th>
                        <th>Audio</th>
                    </tr>
                </thead>
                <tbody id="glosario-body">
                    <!-- Las filas del glosario serán insertadas aquí por JavaScript -->
                </tbody>
            </table>
        </div>
        <div class="pagination-controls">
            <button id="prev-page">Anterior</button>
            <span id="page-info">Página 1 de 1</span>
            <button id="next-page">Siguiente</button>
        </div>
    </section>

    <!-- Sección de Contacto (Ejemplo) -->
    <section id="contacto">
        <h2>✉️ Contacto</h2>
        <p>Si tienes preguntas o comentarios sobre la lengua Kibotashi, no dudes en contactarnos.</p>
        <form action="#" method="POST">
            <div style="margin-bottom: 1rem;">
                <label for="nombre">Nombre:</label><br>
                <input type="text" id="nombre" name="nombre" required style="width: 100%; padding: 0.5rem; border-radius: 5px; border: 1px solid var(--borde); background-color: var(--fondo); color: var(--texto);">
            </div>
            <div style="margin-bottom: 1rem;">
                <label for="email">Email:</label><br>
                <input type="email" id="email" name="email" required style="width: 100%; padding: 0.5rem; border-radius: 5px; border: 1px solid var(--borde); background-color: var(--fondo); color: var(--texto);">
            </div>
            <div style="margin-bottom: 1rem;">
                <label for="mensaje">Mensaje:</label><br>
                <textarea id="mensaje" name="mensaje" rows="5" required style="width: 100%; padding: 0.5rem; border-radius: 5px; border: 1px solid var(--borde); background-color: var(--fondo); color: var(--texto);"></textarea>
            </div>
            <button type="submit" style="background-color: var(--acento); color: white; padding: 0.8rem 1.5rem; border: none; border-radius: 5px; cursor: pointer; transition: background-color 0.3s ease;">Enviar Mensaje</button>
        </form>
    </section>

    <footer>
        <p>Creado por Gabriel · Kibotashi · 2025 — Tama roku. ⨅␊⨉ ⬸⏁⦾</p>
    </footer>
</div>

<!-- Botón para volver arriba -->
<button onclick="scrollToTop()" id="btnTop" title="Ir arriba">⬆</button>

<!-- Enlace al archivo JavaScript externo -->
<script src="js/script.js"></script>
</body>
</html>
